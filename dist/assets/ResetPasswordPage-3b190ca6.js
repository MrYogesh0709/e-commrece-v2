import{u as p,d as w,a as j,s as b,r as y,j as s,L as N,e as v,f as k}from"./index-c94445e5.js";import{u as P}from"./index.esm-557db087.js";function S(){return new URLSearchParams(v().search)}const q=()=>{var d,c;const m=p(),x=w(),{error:a,status:i,msg:o}=j(b);console.log(o);const[u,g]=y.useState(!1),{register:l,handleSubmit:h,formState:{errors:t}}=P(),n=S(),f=r=>{try{const{password:e}=r;m(k({password:e,token:n.get("token"),email:n.get("email")})),g(!0),setTimeout(()=>{x("/login")},3e3)}catch(e){console.log(e)}};return u?s.jsx("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[s.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),s.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-slate-200",children:o||a})]})}):s.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[s.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),s.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-slate-200",children:"Enter New Password"})]}),s.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[s.jsxs("form",{noValidate:!0,className:"space-y-6",onSubmit:h(f),children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"New Password"})}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{id:"password",...l("password",{required:"Password is required",pattern:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm,message:s.jsxs("span",{children:["- At least 8 characters",s.jsx("br",{}),"- Must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number",s.jsx("br",{}),"- Can contain special characters"]})}}),type:"password",autoComplete:"current-password",className:"block w-full  dark:bg-slate-600 dark:text-slate-200 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),s.jsx("p",{className:"text-red-500",children:t.password&&((d=t.password)==null?void 0:d.message)})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Confirm New Password"})}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{id:"confirmPassword",...l("confirmPassword",{required:"Confirm-Password is required",validate:(r,e)=>r===e.password||"Password does not match"}),type:"password",required:!0,className:"block w-full dark:bg-slate-600 dark:text-slate-200 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),s.jsx("p",{className:"text-red-500",children:t.confirmPassword&&((c=t.confirmPassword)==null?void 0:c.message)})]}),a&&s.jsx("p",{className:"text-red-500",children:a})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i==="loading",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:i==="loading"?"Please Wait":"Reset Password"})})]}),s.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Send me back to?"," ",s.jsx(N,{to:"/login",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",children:"Login"})]})]})]})},L=()=>s.jsx(q,{});export{L as default};
