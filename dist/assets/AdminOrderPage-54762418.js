import{r as n,u as I,a as R,m as F,y as D,j as e,z}from"./index-c94445e5.js";import{N as U}from"./Navbar-3620375d.js";import{f as y,g as f,a as w,I as $}from"./constants-e7fb752e.js";import{P as B}from"./Pagination-0c5e0b0a.js";import{M as T}from"./Modal-a3c13a84.js";import{F as V}from"./Footer-86d710bc.js";import"./index-8100b1b7.js";import"./logo-98457f0e.js";import"./dialog-d13693b7.js";import"./description-d3978e3b.js";function W({title:d,titleId:r,...c},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":r},c),d?n.createElement("title",{id:r},d):null,n.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.75.75v10.638l3.96-4.158a.75.75 0 111.08 1.04l-5.25 5.5a.75.75 0 01-1.08 0l-5.25-5.5a.75.75 0 111.08-1.04l3.96 4.158V3.75A.75.75 0 0110 3z",clipRule:"evenodd"}))}const q=n.forwardRef(W),o=q;function G({title:d,titleId:r,...c},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":r},c),d?n.createElement("title",{id:r},d):null,n.createElement("path",{fillRule:"evenodd",d:"M10 17a.75.75 0 01-.75-.75V5.612L5.29 9.77a.75.75 0 01-1.08-1.04l5.25-5.5a.75.75 0 011.08 0l5.25 5.5a.75.75 0 11-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0110 17z",clipRule:"evenodd"}))}const H=n.forwardRef(G),x=H,Y=()=>{const d=I(),[r,c]=n.useState(1),[s,v]=n.useState({}),[h,u]=n.useState(-1),[b,m]=n.useState(null),[k,j]=n.useState(null),[A,S]=n.useState(null),{orders:p,isLoading:g,totalOrders:O}=R(F);n.useEffect(()=>{d(D({sort:s,pagination:{_page:r,_limit:$}}))},[d,r,s]);const C=(t,l)=>{},_=(t,l)=>{u(l.id)},P=t=>{c(t)},i=t=>{const l={...s,_sort:t.sort,_order:t.order};v(l)},E=(t,l)=>{m(l.id),j(t.target.value)},L=(t,l)=>{m(l.id),S(t.target.value)},M=(t,l)=>{const a={...l,status:k??l.status,paymentStatus:A??l.paymentStatus};d(z(a)),u(-1),j(null)};return e.jsxs("div",{className:"overflow-x-auto min-h-screen",children:[e.jsx("div",{className:"flex items-center justify-center font-sans overflow-x-auto",children:e.jsx("div",{className:"w-full",children:g?e.jsx(J,{}):p.length>0?e.jsx("div",{className:"bg-white dark:bg-slate-900 shadow-md rounded my-6",children:e.jsxs("table",{className:" w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 dark:bg-slate-700 text-gray-600 dark:text-slate-300 uppercase text-sm leading-normal",children:[e.jsxs("th",{className:"py-3 px-6 text-left cursor-pointer",onClick:()=>i({sort:"id",order:(s==null?void 0:s._order)==="asc"?"desc":"asc"}),children:["Order#  ",(s==null?void 0:s._sort)==="id"&&(s==null?void 0:s._order)==="asc"?e.jsx(x,{className:"w-6 h-6 inline"}):e.jsx(o,{className:"w-6 h-6 inline"})]}),e.jsx("th",{className:"py-3 px-6 text-left",children:"Items"}),e.jsxs("th",{className:"py-3 px-6 text-center",onClick:()=>i({sort:"totalAmount",order:(s==null?void 0:s._order)==="asc"?"desc":"asc"}),children:["Total Amount  ",(s==null?void 0:s._sort)==="totalAmount"&&(s==null?void 0:s._order)==="asc"?e.jsx(x,{className:"w-6 h-6 inline"}):e.jsx(o,{className:"w-6 h-6 inline"})]}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Shipping Address"}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Order Status"}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Payment Method"}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Payment Status"}),e.jsxs("th",{className:"py-3 px-6 text-center",onClick:()=>i({sort:"createdAt",order:(s==null?void 0:s._order)==="asc"?"desc":"asc"}),children:["Order Time  ",(s==null?void 0:s._sort)==="createdAt"&&(s==null?void 0:s._order)==="asc"?e.jsx(x,{className:"w-6 h-6 inline"}):e.jsx(o,{className:"w-6 h-6 inline"})]}),e.jsxs("th",{className:"py-3 px-6 text-center",onClick:()=>i({sort:"updatedAt",order:(s==null?void 0:s._order)==="asc"?"desc":"asc"}),children:["Last Update  ",(s==null?void 0:s._sort)==="updatedAt"&&(s==null?void 0:s._order)==="asc"?e.jsx(x,{className:"w-6 h-6 inline"}):e.jsx(o,{className:"w-6 h-6 inline"})]}),e.jsx("th",{className:"py-3 px-6 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"text-gray-600 dark:text-slate-300 text-sm font-light",children:p.map(t=>{var l;return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 dark:hover:bg-slate-600",children:[e.jsx("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2"}),e.jsxs("span",{className:"font-medium",children:[t.id," "]})]})}),e.jsx("td",{className:"py-3 px-6 text-left",children:((l=t==null?void 0:t.items)==null?void 0:l.length)>0&&t.items.map(a=>{var N;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2",children:e.jsx("img",{className:"w-6 h-6 rounded-full",src:(N=a==null?void 0:a.product)==null?void 0:N.thumbnail})}),e.jsxs("span",{children:[a==null?void 0:a.product.title," - #",a==null?void 0:a.quantity," -",y(a==null?void 0:a.product.discountPrice)]})]},a.product.id)})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:y(t.totalAmount)})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e.jsxs("strong",{children:["Name:",t.selectedAddress.name]}),e.jsxs("div",{children:["Email:",t.selectedAddress.email]}),e.jsxs("div",{children:["Phone:",t.selectedAddress.phone]}),e.jsxs("div",{children:["Street:",t.selectedAddress.street]}),e.jsxs("div",{children:["City:",t.selectedAddress.city]}),e.jsxs("div",{children:["State:",t.selectedAddress.state]}),e.jsxs("div",{children:["PinCode:",t.selectedAddress.pinCode]})]})}),e.jsx("td",{className:"py-3 px-6 text-center",children:t.id===h?e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Update Status",message:"Are you sure you want to Update Order Status?",dangerOption:"Update",cancelOption:"Cancel",dangerAction:a=>M(a,t),cancelAction:()=>m(-1),showModal:b===h}),e.jsxs("select",{name:"status",className:"mt-2 block w-full py-1 px-4 border border-gray-300 bg-white dark:bg-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm cursor-pointer",onChange:a=>E(a,t),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"dispatched",children:"Dispatched"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}):e.jsx("span",{className:`${f(t.status)} py-1 px-3 rounded-full text-xs`,children:w(t.status)})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:t.paymentMethod})}),e.jsx("td",{className:"py-3 px-6 text-center",children:t.id===h?e.jsx(e.Fragment,{children:e.jsxs("select",{name:"paymentStatus",className:"mt-2 block w-full py-1 px-4 border border-gray-300 bg-white dark:bg-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm cursor-pointer",onChange:a=>L(a,t),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"succeeded",children:"Succeeded"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"canceled",children:"Canceled"})]})}):e.jsx("span",{className:`${f(t.paymentStatus)} py-1 px-3 rounded-full text-xs`,children:w(t.paymentStatus)})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:new Date(t.createdAt).toLocaleString("en-IN")})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:new Date(t.updatedAt).toLocaleString("en-IN")})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsxs("div",{className:"flex item-center justify-center",children:[e.jsx("button",{onClick:a=>C(),className:"w-4 mr-2 transform  hover:text-green-500 hover:scale-110",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{width:"24px",height:"24px"},children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{onClick:a=>_(a,t),className:"w-4 mr-2 transform hover:text-purple-500 hover:scale-110",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{width:"24px",height:"24px"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})})]},t.id)})})]})}):e.jsx("div",{className:"text-2xl font-medium text-center my-10",children:"No Order Yet...!"})})}),g?e.jsx("div",{className:"skeleton-loader px-4 py-3 sm-px-6 dark:bg-slate-700 animate-pulse"}):p.length>0&&e.jsx(B,{handlePage:P,page:r,setPage:c,totalItems:O})]})};function J(){return e.jsx("div",{className:"flex items-center justify-center font-sans ",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"bg-white animate-pulse dark:bg-slate-900  shadow-md rounded my-6",children:e.jsxs("table",{className:"min-w-max w-full table-auto ",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 dark:bg-slate-700 text-gray-600 uppercase  text-sm leading-normal",children:[e.jsx("th",{className:"py-3 px-6 text-left cursor-pointer",children:e.jsx("div",{className:"skeleton-loader bg-slate-200 w-20 h-6 dark:bg-slate-700"})}),e.jsx("th",{className:"py-3 px-6 text-left",children:e.jsx("div",{className:"skeleton-loader w-20 h-6 bg-slate-200 dark:bg-slate-700"})}),e.jsx("th",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"skeleton-loader w-20 h-6 bg-slate-200 dark:bg-slate-700"})}),e.jsx("th",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"skeleton-loader w-20 h-6 bg-slate-200 dark:bg-slate-700"})}),e.jsx("th",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"skeleton-loader w-20 h-6 bg-slate-200 dark:bg-slate-700"})}),e.jsx("th",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"skeleton-loader w-20 h-6 bg-slate-200 dark:bg-slate-700"})})]})}),e.jsx("tbody",{className:"text-gray-600 dark:bg-slate-900 dark:text-slate-500 text-sm font-light",children:Array.from({length:7},(d,r)=>({id:r})).map((d,r)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"py-3 px-6",children:e.jsx("div",{className:"skeleton-loader w-16 h-4 bg-slate-200 dark:bg-slate-700"})}),e.jsx("td",{className:"py-3 px-6 text-left",children:e.jsx("div",{className:"skeleton-loader w-16 h-4 bg-slate-200 dark:bg-slate-700"})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"skeleton-loader w-16 h-4 bg-slate-200 dark:bg-slate-700"})}),e.jsx("td",{className:"py-3 px-6",children:e.jsx("div",{className:"skeleton-loader w-16 h-4 bg-slate-200 dark:bg-slate-700"})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"skeleton-loader w-16 h-4 bg-slate-200 dark:bg-slate-700"})}),e.jsx("td",{className:"py-3 px-6 text-center",children:e.jsx("div",{className:"skeleton-loader w-16 h-4 bg-slate-200 dark:bg-slate-700"})})]},r))})]})})})})}const re=()=>e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"All Orders",children:e.jsx(Y,{})}),e.jsx(V,{})]});export{re as default};
