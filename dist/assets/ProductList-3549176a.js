import{r as s,u as V,a as q,q as U,t as C,w as J,x as K,j as e,L as Q}from"./index-c94445e5.js";import{P as o}from"./index-8100b1b7.js";import{$ as b,P as A,f as E,I as R}from"./constants-e7fb752e.js";import{P as W}from"./Pagination-0c5e0b0a.js";import{S as Y}from"./StarIcon-3d47d67a.js";import{i as w,v as g}from"./Navbar-3620375d.js";import{_ as $}from"./dialog-d13693b7.js";function Z({title:t,titleId:l,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":l},a),t?s.createElement("title",{id:l},t):null,s.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))}const ee=s.forwardRef(Z),ae=ee;function se({title:t,titleId:l,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":l},a),t?s.createElement("title",{id:l},t):null,s.createElement("path",{fillRule:"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 01.628.74v2.288a2.25 2.25 0 01-.659 1.59l-4.682 4.683a2.25 2.25 0 00-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 018 18.25v-5.757a2.25 2.25 0 00-.659-1.591L2.659 6.22A2.25 2.25 0 012 4.629V2.34a.75.75 0 01.628-.74z",clipRule:"evenodd"}))}const te=s.forwardRef(se),le=te;function re({title:t,titleId:l,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":l},a),t?s.createElement("title",{id:l},t):null,s.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z",clipRule:"evenodd"}))}const ne=s.forwardRef(re),S=ne;function ie({title:t,titleId:l,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":l},a),t?s.createElement("title",{id:l},t):null,s.createElement("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"}))}const ce=s.forwardRef(ie),B=ce;function de({title:t,titleId:l,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":l},a),t?s.createElement("title",{id:l},t):null,s.createElement("path",{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 002 4.25v2.5A2.25 2.25 0 004.25 9h2.5A2.25 2.25 0 009 6.75v-2.5A2.25 2.25 0 006.75 2h-2.5zm0 9A2.25 2.25 0 002 13.25v2.5A2.25 2.25 0 004.25 18h2.5A2.25 2.25 0 009 15.75v-2.5A2.25 2.25 0 006.75 11h-2.5zm9-9A2.25 2.25 0 0011 4.25v2.5A2.25 2.25 0 0013.25 9h2.5A2.25 2.25 0 0018 6.75v-2.5A2.25 2.25 0 0015.75 2h-2.5zm0 9A2.25 2.25 0 0011 13.25v2.5A2.25 2.25 0 0013.25 18h2.5A2.25 2.25 0 0018 15.75v-2.5A2.25 2.25 0 0015.75 11h-2.5z",clipRule:"evenodd"}))}const oe=s.forwardRef(de),me=oe;function xe({title:t,titleId:l,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":l},a),t?s.createElement("title",{id:l},t):null,s.createElement("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"}))}const he=s.forwardRef(xe),ge=he,ue="/assets/no-product-a597d5b6.svg",fe=[{name:"Best Rating",sort:"rating",order:"desc",current:!1},{name:"Price: Low to High",sort:"discountPrice",order:"asc",current:!1},{name:"Price: High to Low",sort:"discountPrice",order:"desc",current:!1}];function M(...t){return t.filter(Boolean).join(" ")}const Fe=()=>{var P;const t=V(),[l,a]=s.useState(!1),{products:r,totalItems:n,categories:m,brands:d,productLoading:u}=q(U),[f,N]=s.useState({}),[p,_]=s.useState({}),[v,j]=s.useState(1),y=s.useRef(""),k=[{id:"category",name:"Category",options:m},{id:"brand",name:"Brands",options:d}],F=s.useCallback((i,c,x)=>{N(X=>{const h={...X};if(i.target.checked)h[c.id]?h[c.id].push(x.value):h[c.id]=[x.value];else{const G=h[c.id].findIndex(H=>H===x.value);h[c.id].splice(G,1)}return h})},[N]),I=s.useCallback((i,c)=>{i.preventDefault();const x={...p,_sort:c.sort,_order:c.order};_(x)},[p]),O=s.useCallback(i=>{j(i)},[j]);s.useEffect(()=>{t(C({filter:f,sort:p,pagination:{_page:v,_limit:R},search:y.current.value}))},[t,f,p,v,(P=y.current)==null?void 0:P.value]),s.useEffect(()=>{j(1)},[n]),s.useEffect(()=>{m.length===0&&t(J()),d.length===0&&t(K())},[]);const D=i=>{i.preventDefault(),t(C({filter:f,sort:p,pagination:{_page:v,_limit:R},search:y.current.value}))};return e.jsx("div",{className:"bg-white dark:bg-slate-900",children:e.jsxs("div",{children:[e.jsx(L,{mobileFiltersOpen:l,setMobileFiltersOpen:a,handleFilter:F,filters:k}),e.jsx("form",{onSubmit:D,className:"px-4",children:e.jsxs("div",{className:"pt-2  text-gray-600 flex items-center",children:[e.jsx("input",{className:"border-2 border-gray-300 dark:bg-slate-600 dark:text-slate-200 bg-white h-10 px-5 rounded-lg text-sm focus:outline-none w-full",type:"search",name:"search",ref:y,placeholder:"Search"}),e.jsx("button",{type:"submit",className:"ml-4",children:e.jsx("svg",{className:"text-gray-600 h-6 w-6 fill-current dark:text-slate-300",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{enableBackground:"new 0 0 56.966 56.966"},xmlSpace:"preserve",width:"512px",height:"512px",children:e.jsx("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"})})})]})}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-baseline justify-between border-b border-gray-200 pb-6 pt-6",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 dark:text-slate-200",children:"All Products"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs(w,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsxs(w.Button,{className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-slate-200 dark:hover:text-slate-100",children:["Sort",e.jsx(ae,{className:"-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-200 ","aria-hidden":"true"})]})}),e.jsx(b,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsx(w.Items,{className:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-slate-600",children:e.jsx("div",{className:"py-1",children:fe.map(i=>e.jsx(w.Item,{children:({active:c})=>e.jsx("button",{onClick:x=>I(x,i),className:M(i.current?"font-medium text-gray-900 dark:text-slate-100":"text-gray-500 dark:text-slate-200",c?"bg-gray-100 dark:bg-gray-700":"","block px-4 py-2 text-sm"),children:i.name})},i.name))})})})]}),e.jsxs("button",{type:"button",className:"-m-2 ml-5 p-2 text-gray-400 hover:text-gray-500 sm:ml-7",children:[e.jsx("span",{className:"sr-only",children:"View grid"}),e.jsx(me,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("button",{type:"button",className:"-m-2 ml-4 p-2 text-gray-400 hover:text-gray-500 sm:ml-6 lg:hidden",onClick:()=>a(!0),children:[e.jsx("span",{className:"sr-only",children:"Filters"}),e.jsx(le,{className:"h-5 w-5","aria-hidden":"true"})]})]})]}),e.jsx("section",{"aria-labelledby":"products-heading",className:"pb-24 pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4",children:[e.jsx(T,{handleFilter:F,filters:k}),e.jsx(z,{products:r,productLoading:u})]})}),u?e.jsx("div",{className:"skeleton-loader px-4 py-3 sm-px-6 dark:bg-slate-700 animate-pulse"}):e.jsx(W,{handlePage:O,page:v,setPage:j,totalItems:n})]})]})})};function L({mobileFiltersOpen:t,setMobileFiltersOpen:l,handleFilter:a,filters:r}){return e.jsx(b.Root,{show:t,as:s.Fragment,children:e.jsxs($,{as:"div",className:"relative z-40 lg:hidden",onClose:l,children:[e.jsx(b.Child,{as:s.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 z-40 flex",children:e.jsx(b.Child,{as:s.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:e.jsxs($.Panel,{className:"relative ml-auto flex h-full w-full max-w-xs flex-col overflow-y-auto bg-white py-4 pb-12 shadow-xl dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between px-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-slate-200",children:"Filters"}),e.jsxs("button",{type:"button",className:"-mr-2 flex h-10 w-10 items-center justify-center rounded-md bg-white p-2 text-gray-400 dark:bg-slate-900",onClick:()=>l(!1),children:[e.jsx("span",{className:"sr-only",children:"Close menu"}),e.jsx(ge,{className:"h-6 w-6 dark:text-slate-200","aria-hidden":"true"})]})]}),e.jsx("form",{className:"mt-4 border-t border-gray-200",children:r.map(n=>e.jsx(g,{as:"div",className:"border-t border-gray-200 px-4 py-6",children:({open:m})=>e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"-mx-2 -my-3 flow-root",children:e.jsxs(g.Button,{className:"flex w-full items-center justify-between bg-white px-2 py-3 text-gray-400 hover:text-gray-500 dark:bg-slate-900",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-slate-200",children:n.name}),e.jsx("span",{className:"ml-6 flex items-center",children:m?e.jsx(S,{className:"h-5 w-5","aria-hidden":"true"}):e.jsx(B,{className:"h-5 w-5","aria-hidden":"true"})})]})}),e.jsx(g.Panel,{className:"pt-6",children:e.jsx("div",{className:"space-y-6",children:n==null?void 0:n.options.map((d,u)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`filter-mobile-${n.id}-${u}`,name:`${n.id}[]`,defaultValue:d.value,type:"checkbox",defaultChecked:d.checked,onChange:f=>a(f,n,d),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:`filter-mobile-${n.id}-${u}`,className:"ml-3 min-w-0 flex-1 text-gray-500",children:d.label})]},d.value))})})]})},n.id))})]})})})]})})}L.propTypes={mobileFiltersOpen:o.bool,setMobileFiltersOpen:o.func,handleFilter:o.func,filters:o.array};function T({handleFilter:t,filters:l}){return e.jsx("form",{className:"hidden lg:block",children:l.map(a=>e.jsx(g,{as:"div",className:"border-b border-gray-200 py-6",children:({open:r})=>e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"-my-3 flow-root",children:e.jsxs(g.Button,{className:"flex w-full items-center justify-between bg-white py-3 text-sm text-gray-400 hover:text-gray-500 dark:bg-slate-900",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-slate-200",children:a.name}),e.jsx("span",{className:"ml-6 flex items-center",children:r?e.jsx(S,{className:"h-5 w-5","aria-hidden":"true"}):e.jsx(B,{className:"h-5 w-5","aria-hidden":"true"})})]})}),e.jsx(g.Panel,{className:"pt-6",children:e.jsx("div",{className:"space-y-4",children:a.options.map((n,m)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`filter-${a.id}-${m}`,name:`${a.id}[]`,defaultValue:n.value,type:"checkbox",onChange:d=>t(d,a,n),defaultChecked:n.checked,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("label",{htmlFor:`filter-${a.id}-${m}`,className:"ml-3 text-sm text-gray-600 dark:text-slate-200",children:n.label})]},n.value))})})]})},a.id))})}T.propTypes={handleFilter:o.func,filters:o.array};function z({products:t,productLoading:l}){return l?e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"mx-auto max-w-2xl px-4 py-0 sm:px-6 sm:py-0 lg:max-w-7xl lg:px-8",children:e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-8",children:Array.from({length:10},(a,r)=>e.jsx(pe,{},r))})})}):!l&&t.length===0?e.jsxs("div",{className:"lg:col-span-3 flex justify-start flex-col",children:[e.jsx("h2",{className:"text-center text-lg font-medium text-gray-900 dark:text-slate-200",children:"No Product Found"}),e.jsx("img",{src:ue,alt:"no-product"})]}):e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-white dark:bg-slate-900",children:e.jsx("div",{className:"mx-auto max-w-2xl px-4 py-0  sm:px-6 sm:py-0 lg:max-w-7xl lg:px-8",children:e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-8",children:t==null?void 0:t.map(a=>{var r;return e.jsx(Q,{to:`/product-detail/${a.id}`,children:e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-md bg-gray-200 lg:aspect-none group-hover:opacity-75 lg:h-60 min-h-60",children:e.jsx("img",{src:a.thumbnail,alt:a.title,className:"h-full w-full object-cover object-center lg:h-full lg:w-full"})}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm text-gray-700 dark:text-slate-200",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0"}),((r=a==null?void 0:a.title)==null?void 0:r.length)>A?a.title.substring(0,A)+"...":a.title]}),e.jsx("div",{className:"mt-1 text-sm text-gray-500 flex items-center",children:e.jsx("div",{className:"flex items-center",children:[0,1,2,3,4].map(n=>e.jsx(Y,{className:M((a==null?void 0:a.averageRating)>n?"text-yellow-500":"text-gray-300","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},n))})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:E(a==null?void 0:a.discountPrice)}),e.jsx("div",{className:"inline",children:e.jsx("p",{className:"text-sm font-medium text-gray-400 line-through",children:E(a==null?void 0:a.price)})})]})]}),(a==null?void 0:a.stock)===0&&e.jsx("p",{className:"text-sm text-red-400",children:"Product Out of Stock"})]})},a.id)})})})})})}z.propTypes={products:o.array,productLoading:o.bool};function pe(){return e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-md bg-gray-200 dark:bg-gray-700 lg:aspect-none group-hover:opacity-75 lg:h-60 min-h-60",children:e.jsx("div",{className:"skeleton-loader  h-full w-full"})}),e.jsxs("div",{children:[e.jsx("div",{className:"skeleton-loader mt-4 h-4 w-2/3"}),e.jsx("div",{className:"skeleton-loader mt-2 h-3 w-1/2"})]})]})}export{ae as C,le as F,S as M,Fe as P,me as S,B as a,pe as b,ue as n};
