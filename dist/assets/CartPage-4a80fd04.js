import{u as j,a as b,g as f,r as y,j as e,L as d,o as v,h as N,i as k}from"./index-c94445e5.js";import{N as w}from"./Navbar-3620375d.js";import{F as C}from"./Footer-86d710bc.js";import{M as S}from"./Modal-a3c13a84.js";import{f as x}from"./constants-e7fb752e.js";import"./index-8100b1b7.js";import"./logo-98457f0e.js";import"./dialog-d13693b7.js";import"./description-d3978e3b.js";function q(...r){return r.filter(Boolean).join(" ")}const A=()=>{const r=j(),{cartItems:t,isLoading:m}=b(f),[h,n]=y.useState(null),u=Math.round(t.reduce((s,a)=>a.product.discountPrice*a.quantity+s,0)),o=t.reduce((s,a)=>a.quantity+s,0),p=(s,a)=>{r(N({id:a.id,quantity:+s.target.value}))},g=(s,a)=>{r(k(a))};return m?e.jsx("div",{className:"h-screen",children:e.jsx(I,{})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto  bg-white max-w-7xl px-4 sm:px-6 lg:px-8 dark:bg-slate-900",children:[e.jsx("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:t.length>0?e.jsx("div",{className:"flow-root",children:e.jsx("ul",{role:"list",className:"-my-6 divide-y divide-gray-200",children:t.length>0&&t.map(s=>{var a,i,c;return e.jsxs("li",{className:"flex py-6",children:[e.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:e.jsx("img",{src:s.product.thumbnail,alt:s.product.title,className:"h-full w-full object-cover object-center"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900 dark:text-slate-200",children:[e.jsx("h3",{children:s.product.title}),e.jsx("p",{className:"ml-4",children:x((s==null?void 0:s.quantity)*((a=s==null?void 0:s.product)==null?void 0:a.discountPrice))})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(i=s==null?void 0:s.product)==null?void 0:i.brand})]}),e.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[e.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[e.jsxs("div",{className:"text-gray-500",children:[e.jsx("label",{htmlFor:`quantity-${s.product.id}`,className:"inline mr-5 text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Qty"}),e.jsxs("select",{onChange:l=>p(l,s),className:"rounded cursor-pointer py-1 px-8 dark:bg-slate-700 dark:text-slate-200",value:s.quantity,id:`quantity-${s.product.id}`,children:[e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"})]})]}),(s==null?void 0:s.color)&&e.jsxs("div",{className:"flex  items-center gap-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:"Color"}),e.jsxs("div",{className:"relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 focus:outline-none",children:[e.jsx("span",{className:"sr-only",children:s.color.name}),e.jsx("span",{"aria-hidden":"true",className:q(s==null?void 0:s.color.class,"h-8 w-8 rounded-full border border-black  dark:border-slate-200 border-opacity-10")})]})]}),(s==null?void 0:s.size)&&e.jsxs("div",{className:"flex  items-center gap-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:"Size"}),e.jsxs("div",{className:"group relative flex items-center justify-center rounded-md border py-1 px-4 text-sm font-medium uppercase hover:bg-gray-50 dark:hover:bg-slate-700 focus:outline-none sm:flex-1 sm:py-1",children:[e.jsx("span",{children:(c=s==null?void 0:s.size)==null?void 0:c.name}),e.jsx("span",{className:"pointer-events-none absolute -inset-px rounded-md","aria-hidden":"true"})]})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx(S,{title:`Remove ${s.product.title}`,message:`Are you sure you want to Remove ${s.product.title} ?`,dangerOption:"Remove",cancelOption:"Cancel",dangerAction:l=>g(l,s.id),cancelAction:()=>n(-1),showModal:h===s.id}),e.jsx("button",{type:"button",onClick:()=>n(s.id),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Remove"})]})]})]})]},s.id)})})}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-medium text-center my-10",children:"Your Cart is Empty"}),e.jsx("img",{src:"https://res.cloudinary.com/dwyn6xk6f/image/upload/v1689182720/emptyCart_kstswg.png",alt:"emptyCart",className:"mx-auto max-w-full h-auto sm:max-w-md md:max-w-lg lg:max-w-xl"})]})}),t.length>0?e.jsxs("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between my-2 text-base font-medium text-gray-900 dark:text-slate-200",children:[e.jsx("p",{children:"Subtotal"}),e.jsx("p",{children:x(u)})]}),e.jsxs("div",{className:"flex justify-between my-2 text-base font-medium text-gray-900 dark:text-slate-200",children:[e.jsx("p",{children:"Total items in Cart"}),e.jsxs("p",{children:[o," ",`${o>1?"Items":"Item"}`]})]}),e.jsx("p",{className:"mt-0.5 text-sm text-gray-500 dark:text-slate-400",children:"Shipping and taxes calculated at checkout."}),e.jsx("div",{className:"mt-6",children:e.jsx(d,{to:"/checkout",className:"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700",children:"Checkout"})}),e.jsx("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:e.jsxs("p",{children:["or"," ",e.jsxs(d,{to:"/",type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>r(v),children:["Continue Shopping",e.jsx("span",{"aria-hidden":"true",children:" â†’"})]})]})})]}):e.jsx(d,{to:"/",className:"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700",children:"Continue Shopping"})]})})};function I(){return e.jsxs("div",{className:"mx-auto mt-12 bg-white animate-pulse dark:bg-slate-900 max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-6 sm:px-6",children:[e.jsx("div",{className:"skeleton-loader text-4xl my-5 font-bold tracking-tight text-gray-900 bg-slate-200 dark:text-slate-200 h-10 w-80 dark:bg-slate-700"}),e.jsx("div",{className:"flow-root",children:e.jsx("div",{role:"list",className:"-my-6 divide-y divide-gray-200",children:e.jsxs("div",{className:"flex py-6",children:[e.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200 dark:border-gray-900",children:e.jsx("div",{className:"skeleton-loader h-full dark:bg-slate-700 bg-slate-200"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[e.jsx("div",{className:"skeleton-loader h-4 w-40 mb-2 dark:bg-slate-700 bg-slate-200"}),e.jsx("div",{className:"skeleton-loader h-3 w-20 dark:bg-slate-700 bg-slate-200"}),e.jsx("div",{className:"skeleton-loader h-3 w-32 mt-2 dark:bg-slate-700 bg-slate-200"})]})]})})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:dark:bg-slate-700  bg-slate-200 px-4 py-6 sm:px-6",children:[e.jsx("div",{className:"skeleton-loader h-6 w-24 mb-4 dark:bg-slate-700 bg-slate-200"}),e.jsx("div",{className:"skeleton-loader h-3 w-40 mb-2 dark:bg-slate-700 bg-slate-200"}),e.jsx("div",{className:"skeleton-loader flex items-center justify-center px-6 py-3 h-6 w-40 dark:bg-slate-700 bg-slate-200"})]})]})}const Q=()=>e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Cart",children:e.jsx(A,{})}),e.jsx(C,{})]});export{Q as default};
