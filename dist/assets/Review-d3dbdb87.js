import{r as n,R as L,j as e,L as J,u as ie,G as oe,a as _,q as Ce,g as Se,s as ce,M as de,O as Ee,P as Pe,Q as W,S as Ae,T as Te,U as Le,V as $e,W as Fe}from"./index-c94445e5.js";import{P as K}from"./index-8100b1b7.js";import{o as P,D as Q,d as X,y as Z,l as me,X as ee,p as Oe,R as Ie,e as De,s as Me,u as Ge,h as ze,i as z,O as le,M as Y,N as ae,r as re,j as Ue,f as ne,c as U}from"./constants-e7fb752e.js";import{S as ue}from"./StarIcon-3d47d67a.js";import{b as _e,M as xe,c as Be,p as qe}from"./description-d3978e3b.js";import{F as Ve}from"./Navbar-3620375d.js";import{u as He,C as We}from"./index.esm-557db087.js";function ge(s={},a=null,t=[]){for(let[r,x]of Object.entries(s))fe(t,he(a,r),x);return t}function he(s,a){return s?s+"["+a+"]":a}function fe(s,a,t){if(Array.isArray(t))for(let[r,x]of t.entries())fe(s,he(a,r.toString()),x);else t instanceof Date?s.push([a,t.toISOString()]):typeof t=="boolean"?s.push([a,t?"1":"0"]):typeof t=="string"?s.push([a,t]):typeof t=="number"?s.push([a,`${t}`]):t==null?s.push([a,""]):ge(t,a,s)}function Ye(s){var a;let t=(a=s==null?void 0:s.form)!=null?a:s.closest("form");if(t){for(let r of t.elements)if(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image"){r.click();return}}}function Ke(s,a,t){let[r,x]=n.useState(t),d=s!==void 0,m=n.useRef(d),g=n.useRef(!1),u=n.useRef(!1);return d&&!m.current&&!g.current?(g.current=!0,m.current=d,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!d&&m.current&&!u.current&&(u.current=!0,m.current=d,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[d?s:r,P(b=>(d||x(b),a==null?void 0:a(b)))]}let pe=n.createContext(null);function je(){let s=n.useContext(pe);if(s===null){let a=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(a,je),a}return s}function be(){let[s,a]=n.useState([]);return[s.length>0?s.join(" "):void 0,n.useMemo(()=>function(t){let r=P(d=>(a(m=>[...m,d]),()=>a(m=>{let g=m.slice(),u=g.indexOf(d);return u!==-1&&g.splice(u,1),g}))),x=n.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props}),[r,t.slot,t.name,t.props]);return L.createElement(pe.Provider,{value:x},t.children)},[a])]}let Je="label";function Qe(s,a){let t=X(),{id:r=`headlessui-label-${t}`,passive:x=!1,...d}=s,m=je(),g=Z(a);me(()=>m.register(r),[r,m.register]);let u={ref:g,...m.props,id:r};return x&&("onClick"in u&&(delete u.htmlFor,delete u.onClick),"onClick"in d&&delete d.onClick),ee({ourProps:u,theirProps:d,slot:m.slot||{},defaultTag:Je,name:m.name||"Label"})}let Xe=Q(Qe),Ze=Object.assign(Xe,{});var et=(s=>(s[s.RegisterOption=0]="RegisterOption",s[s.UnregisterOption=1]="UnregisterOption",s))(et||{});let tt={[0](s,a){let t=[...s.options,{id:a.id,element:a.element,propsRef:a.propsRef}];return{...s,options:Ue(t,r=>r.element.current)}},[1](s,a){let t=s.options.slice(),r=s.options.findIndex(x=>x.id===a.id);return r===-1?s:(t.splice(r,1),{...s,options:t})}},te=n.createContext(null);te.displayName="RadioGroupDataContext";function ve(s){let a=n.useContext(te);if(a===null){let t=new Error(`<${s} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ve),t}return a}let se=n.createContext(null);se.displayName="RadioGroupActionsContext";function Ne(s){let a=n.useContext(se);if(a===null){let t=new Error(`<${s} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ne),t}return a}function st(s,a){return Ge(a.type,tt,s,a)}let lt="div";function at(s,a){let t=X(),{id:r=`headlessui-radiogroup-${t}`,value:x,defaultValue:d,form:m,name:g,onChange:u,by:b=(o,k)=>o===k,disabled:w=!1,...A}=s,C=P(typeof b=="string"?(o,k)=>{let j=b;return(o==null?void 0:o[j])===(k==null?void 0:k[j])}:b),[v,E]=n.useReducer(st,{options:[]}),i=v.options,[c,N]=be(),[y,$]=xe(),F=n.useRef(null),M=Z(F,a),[p,O]=Ke(x,u,d),l=n.useMemo(()=>i.find(o=>!o.propsRef.current.disabled),[i]),h=n.useMemo(()=>i.some(o=>C(o.propsRef.current.value,p)),[i,p]),R=P(o=>{var k;if(w||C(o,p))return!1;let j=(k=i.find(D=>C(D.propsRef.current.value,o)))==null?void 0:k.propsRef.current;return j!=null&&j.disabled?!1:(O==null||O(o),!0)});Ve({container:F.current,accept(o){return o.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}});let G=P(o=>{let k=F.current;if(!k)return;let j=ze(k),D=i.filter(f=>f.propsRef.current.disabled===!1).map(f=>f.element.current);switch(o.key){case z.Enter:Ye(o.currentTarget);break;case z.ArrowLeft:case z.ArrowUp:if(o.preventDefault(),o.stopPropagation(),le(D,Y.Previous|Y.WrapAround)===ae.Success){let f=i.find(B=>B.element.current===(j==null?void 0:j.activeElement));f&&R(f.propsRef.current.value)}break;case z.ArrowRight:case z.ArrowDown:if(o.preventDefault(),o.stopPropagation(),le(D,Y.Next|Y.WrapAround)===ae.Success){let f=i.find(B=>B.element.current===(j==null?void 0:j.activeElement));f&&R(f.propsRef.current.value)}break;case z.Space:{o.preventDefault(),o.stopPropagation();let f=i.find(B=>B.element.current===(j==null?void 0:j.activeElement));f&&R(f.propsRef.current.value)}break}}),S=P(o=>(E({type:0,...o}),()=>E({type:1,id:o.id}))),I=n.useMemo(()=>({value:p,firstOption:l,containsCheckedOption:h,disabled:w,compare:C,...v}),[p,l,h,w,C,v]),q=n.useMemo(()=>({registerOption:S,change:R}),[S,R]),V={ref:M,id:r,role:"radiogroup","aria-labelledby":c,"aria-describedby":y,onKeyDown:G},we=n.useMemo(()=>({value:p}),[p]),H=n.useRef(null),Re=Oe();return n.useEffect(()=>{H.current&&d!==void 0&&Re.addEventListener(H.current,"reset",()=>{R(d)})},[H,R]),L.createElement($,{name:"RadioGroup.Description"},L.createElement(N,{name:"RadioGroup.Label"},L.createElement(se.Provider,{value:q},L.createElement(te.Provider,{value:I},g!=null&&p!=null&&ge({[g]:p}).map(([o,k],j)=>L.createElement(Be,{features:qe.Hidden,ref:j===0?D=>{var f;H.current=(f=D==null?void 0:D.closest("form"))!=null?f:null}:void 0,...Ie({key:o,as:"input",type:"radio",checked:k!=null,hidden:!0,readOnly:!0,form:m,name:o,value:k})})),ee({ourProps:V,theirProps:A,slot:we,defaultTag:lt,name:"RadioGroup"})))))}var rt=(s=>(s[s.Empty=1]="Empty",s[s.Active=2]="Active",s))(rt||{});let nt="div";function it(s,a){var t;let r=X(),{id:x=`headlessui-radiogroup-option-${r}`,value:d,disabled:m=!1,...g}=s,u=n.useRef(null),b=Z(u,a),[w,A]=be(),[C,v]=xe(),{addFlag:E,removeFlag:i,hasFlag:c}=De(1),N=Me({value:d,disabled:m}),y=ve("RadioGroup.Option"),$=Ne("RadioGroup.Option");me(()=>$.registerOption({id:x,element:u,propsRef:N}),[x,$,u,s]);let F=P(S=>{var I;if(re(S.currentTarget))return S.preventDefault();$.change(d)&&(E(2),(I=u.current)==null||I.focus())}),M=P(S=>{if(re(S.currentTarget))return S.preventDefault();E(2)}),p=P(()=>i(2)),O=((t=y.firstOption)==null?void 0:t.id)===x,l=y.disabled||m,h=y.compare(y.value,d),R={ref:b,id:x,role:"radio","aria-checked":h?"true":"false","aria-labelledby":w,"aria-describedby":C,"aria-disabled":l?!0:void 0,tabIndex:(()=>l?-1:h||!y.containsCheckedOption&&O?0:-1)(),onClick:l?void 0:F,onFocus:l?void 0:M,onBlur:l?void 0:p},G=n.useMemo(()=>({checked:h,disabled:l,active:c(2)}),[h,l,c]);return L.createElement(v,{name:"RadioGroup.Description"},L.createElement(A,{name:"RadioGroup.Label"},ee({ourProps:R,theirProps:g,slot:G,defaultTag:nt,name:"RadioGroup.Option"})))}let ot=Q(at),ct=Q(it),T=Object.assign(ot,{Option:ct,Label:Ze,Description:_e});function dt({title:s,titleId:a,...t},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":a},t),s?n.createElement("title",{id:a},s):null,n.createElement("path",{d:"M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"}))}const mt=n.forwardRef(dt),ut=mt;function xt({title:s,titleId:a,...t},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":a},t),s?n.createElement("title",{id:a},s):null,n.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"}))}const gt=n.forwardRef(xt),ht=gt;function ye({error:s}){return e.jsx("main",{className:"grid min-h-full place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8 dark:bg-slate-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base font-semibold text-indigo-600",children:"404"}),e.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-gray-900 dark:text-slate-200 sm:text-5xl",children:"Page not Found"}),e.jsxs("p",{className:"mt-6 text-base leading-7 text-gray-600 dark:text-slate-400",children:[s,"."]}),e.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:e.jsx(J,{to:"/",replace:!0,className:"rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Go back home"})})]})})}ye.propTypes={error:K.string};const ft=(s,a)=>{s.preventDefault(),document.getElementById(a).scrollIntoView({behavior:"smooth"})};function Rt(){var v,E;const s=ie(),{id:a}=oe(),{singleProduct:t,isLoading:r,error:x}=_(Ce),{cartItems:d}=_(Se),{user:m}=_(ce),{totalReviews:g}=_(de),[u,b]=n.useState(null),[w,A]=n.useState(null);n.useEffect(()=>{s(Ee(a)),s(Pe())},[s,a]);const C=i=>{var c,N;if(i.preventDefault(),t.stock===0)return W.error("Item out of stock ");if(d.findIndex(y=>y.product.id===t.id)<0){if(((c=t==null?void 0:t.colors)==null?void 0:c.length)>0&&!u)return W.error("Please select a Color of Product");if(((N=t==null?void 0:t.sizes)==null?void 0:N.length)>0&&!w)return W.error("Please select a Size of Product");const y={product:t.id,color:u,size:w};s(Ae(y))}else W.info("Already added to Cart")};return x?e.jsx(ye,{error:x}):r?e.jsx(pt,{}):e.jsx("div",{className:"bg-white dark:bg-slate-900",children:e.jsxs("div",{className:"pt-6",children:[e.jsx("nav",{"aria-label":"Breadcrumb",children:e.jsxs("ol",{role:"list",className:"mx-auto flex max-w-2xl items-center space-x-2 px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-2 text-sm font-medium text-gray-900 dark:text-slate-200",children:t==null?void 0:t.brand}),e.jsx("svg",{width:16,height:20,viewBox:"0 0 16 20",fill:"currentColor","aria-hidden":"true",className:"h-5 w-4 text-gray-300",children:e.jsx("path",{d:"M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z"})})]}),e.jsx("li",{className:"text-sm",children:e.jsx("a",{href:t==null?void 0:t.href,"aria-current":"page",className:"font-medium text-gray-500 hover:text-gray-600 dark:hover:text-slate-300",children:t==null?void 0:t.title})})]})}),(t==null?void 0:t.images.length)>0&&e.jsxs("div",{className:"mx-auto mt-6 max-w-2xl sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:gap-x-8 lg:px-8",children:[e.jsx("div",{className:"aspect-h-4 aspect-w-3 hidden overflow-hidden rounded-lg lg:block",children:e.jsx("img",{src:t==null?void 0:t.images[0],alt:t==null?void 0:t.title,className:"h-full w-full object-cover object-center"})}),e.jsxs("div",{className:"hidden lg:grid lg:grid-cols-1 lg:gap-y-8",children:[e.jsx("div",{className:"aspect-h-2 aspect-w-3 overflow-hidden rounded-lg",children:e.jsx("img",{src:t==null?void 0:t.images[1],alt:t==null?void 0:t.title,className:"h-full w-full object-cover object-center"})}),e.jsx("div",{className:"aspect-h-2 aspect-w-3 overflow-hidden rounded-lg",children:e.jsx("img",{src:t==null?void 0:t.images[2],alt:t==null?void 0:t.title,className:"h-full w-full object-cover object-center"})})]}),e.jsx("div",{className:"aspect-h-5 aspect-w-4 lg:aspect-h-4 lg:aspect-w-3 sm:overflow-hidden sm:rounded-lg",children:e.jsx("img",{src:t==null?void 0:t.images[3],alt:t==null?void 0:t.title,className:"h-full w-full object-cover object-center"})})]}),e.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16",children:[e.jsx("div",{className:"lg:col-span-2 lg:border-r lg:border-gray-200 lg:pr-8",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl dark:text-slate-200",children:t==null?void 0:t.title})}),e.jsxs("div",{className:"mt-4 lg:row-span-3 lg:mt-0",children:[e.jsx("h2",{className:"sr-only",children:"Product information"}),e.jsxs("div",{className:"flex  items-center",children:[e.jsx("p",{className:"text-3xl tracking-tight text-gray-900 dark:text-slate-200",children:ne(t==null?void 0:t.discountPrice)}),"  ",e.jsx("p",{className:"text-sm line-through tracking-tight text-gray-400",children:ne(t==null?void 0:t.price)}),"  ",e.jsxs("span",{className:"text-sm font-medium text-green-400",children:[t==null?void 0:t.discountPercentage,"% off"]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"sr-only",children:"Reviews"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[0,1,2,3,4].map(i=>e.jsx(ue,{className:U((t==null?void 0:t.averageRating)>i?"text-yellow-500":"text-gray-300","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},i))}),e.jsxs("span",{className:"",children:[t==null?void 0:t.averageRating," out of 5 stars"]})]}),e.jsxs("a",{href:"#review",className:"underline text-blue-500",onClick:i=>ft(i,"review"),children:[g," reviews"]})]}),e.jsxs("form",{className:"mt-10",children:[((v=t==null?void 0:t.colors)==null?void 0:v.length)>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:"Color"}),e.jsxs(T,{value:u,onChange:b,className:"mt-4",children:[e.jsx(T.Label,{className:"sr-only",children:"Choose a color"}),e.jsx("div",{className:"flex items-center space-x-3",children:t.colors.map(i=>e.jsxs(T.Option,{value:i,className:({active:c,checked:N})=>U(i.selectedClass,c&&N?"ring ring-offset-1":"",!c&&N?"ring-2":"","relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 focus:outline-none"),children:[e.jsx(T.Label,{as:"span",className:"sr-only",children:i.name}),e.jsx("span",{"aria-hidden":"true",className:U(i.class,"h-8 w-8 rounded-full border border-black border-opacity-10 dark:border-slate-100")})]},i.id))})]})]}),((E=t==null?void 0:t.sizes)==null?void 0:E.length)>0&&e.jsxs("div",{className:"mt-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:"Size"}),e.jsx("a",{href:"#",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Size guide"})]}),e.jsxs(T,{value:w,onChange:A,className:"mt-4",children:[e.jsx(T.Label,{className:"sr-only",children:"Choose a size"}),e.jsx("div",{className:"grid grid-cols-4 gap-4 sm:grid-cols-8 lg:grid-cols-4",children:t.sizes.map(i=>e.jsx(T.Option,{value:i,disabled:!i.inStock,className:({active:c})=>U(i.inStock?"cursor-pointer bg-white text-gray-900 shadow-sm":"cursor-not-allowed bg-gray-50 text-gray-200",c?"ring-2 ring-indigo-500":"","group relative flex items-center justify-center rounded-md border py-3 px-4 text-sm font-medium uppercase hover:bg-gray-50 focus:outline-none sm:flex-1 sm:py-6"),children:({active:c,checked:N})=>e.jsxs(e.Fragment,{children:[e.jsx(T.Label,{as:"span",children:i.name}),i.inStock?e.jsx("span",{className:U(c?"border":"border-2",N?"border-indigo-500":"border-transparent","pointer-events-none absolute -inset-px rounded-md"),"aria-hidden":"true"}):e.jsx("span",{"aria-hidden":"true",className:"pointer-events-none absolute -inset-px rounded-md border-2 border-gray-200",children:e.jsx("svg",{className:"absolute inset-0 h-full w-full stroke-2 text-gray-200",viewBox:"0 0 100 100",preserveAspectRatio:"none",stroke:"currentColor",children:e.jsx("line",{x1:0,y1:100,x2:100,y2:0,vectorEffect:"non-scaling-stroke"})})})]})},i.id))})]})]}),m?e.jsx("button",{type:"submit",disabled:r,onClick:C,className:"mt-10 flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Add to Cart"}):e.jsx(J,{to:"/login",className:"mt-10 flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Login / Sign Up"}),(t==null?void 0:t.stock)===0&&e.jsx("div",{className:"text-end mt-2 text-red-500",children:"item Out of stock.."})]})]}),e.jsxs("div",{className:"py-10 lg:col-span-2 lg:col-start-1 lg:border-r lg:border-gray-200 lg:pb-16 lg:pr-8 lg:pt-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"sr-only",children:"Description"}),e.jsx("div",{className:"space-y-6",children:e.jsx("p",{className:"text-base text-gray-900 dark:text-slate-200",children:t==null?void 0:t.description})})]}),(t==null?void 0:t.highlights.length)>0&&e.jsxs("div",{className:"mt-10",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:"Highlights"}),e.jsx("div",{className:"mt-4",children:e.jsx("ul",{role:"list",className:"list-disc space-y-2 pl-4 text-sm",children:t==null?void 0:t.highlights.map((i,c)=>e.jsx("li",{className:"text-gray-400",children:e.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:i})},c))})})]}),e.jsxs("div",{className:"mt-10",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900 dark:text-slate-200",children:"Details"}),e.jsx("div",{className:"mt-4 space-y-6",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:t==null?void 0:t.description})})]})]})]})]})})}function pt(){return e.jsx("div",{className:"bg-white animate-pulse dark:bg-slate-900",children:e.jsxs("div",{className:"pt-6",children:[e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"skeleton-loader bg-slate-200 h-8 w-1/2 mb-4 dark:bg-gray-700 rounded-sm"})}),e.jsxs("div",{className:"mx-auto mt-6 max-w-2xl sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:gap-x-8 lg:px-8",children:[e.jsx("div",{className:"aspect-h-4 aspect-w-3 hidden overflow-hidden rounded-lg lg:block",children:e.jsx("div",{className:"skeleton-loader bg-slate-200 h-full w-full object-cover object-center dark:bg-gray-700"})}),e.jsxs("div",{className:"hidden lg:grid lg:grid-cols-1 lg:gap-y-8",children:[e.jsx("div",{className:"aspect-h-2 aspect-w-3 overflow-hidden rounded-lg",children:e.jsx("div",{className:"skeleton-loader bg-slate-200 h-full w-full object-cover object-center dark:bg-gray-700"})}),e.jsx("div",{className:"aspect-h-2 aspect-w-3 overflow-hidden rounded-lg",children:e.jsx("div",{className:"skeleton-loader bg-slate-200 h-full w-full object-cover object-center dark:bg-gray-700"})})]}),e.jsx("div",{className:"aspect-h-5 aspect-w-4 lg:aspect-h-4 lg:aspect-w-3 sm:overflow-hidden sm:rounded-lg",children:e.jsx("div",{className:"skeleton-loader bg-slate-200 h-full w-full object-cover object-center dark:bg-gray-700"})})]})]})})}const ke=({value:s,onChange:a})=>{const t=r=>{a(r)};return e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(r=>e.jsx("svg",{className:`h-5 w-5 fill-current ${r<=s?"text-yellow-500":"text-gray-300"}`,viewBox:"0 0 24 24",onClick:()=>t(r),children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2l3.09 6.32L22 9.54l-5 4.87 1.18 6.84L12 19.77l-6.18 3.48L7 14.41l-5-4.87 6.91-1.22L12 2z"})},r))})};ke.propTypes={value:K.any,onChange:K.func};const Ct=()=>{var M,p,O;const s=ie(),{id:a}=oe(),{user:t}=_(ce),{reviews:r,totalReviews:x,isLoading:d,error:m}=_(de),[g,u]=n.useState(!1),[b,w]=n.useState(!1),{register:A,handleSubmit:C,setValue:v,reset:E,control:i,formState:{errors:c}}=He(),N=l=>{u(!g),w(!0),v("rating",l.rating),v("title",l.title),v("comment",l.comment),v("_id",l._id)},y=l=>{try{l._id?s($e(l)):s(Le({...l,product:a}))}catch(h){console.log(h)}finally{E(),u(!1)}},$=()=>u(l=>!l),F=l=>{try{s(Fe(l)),w(!1)}catch(h){console.log(h)}};return n.useEffect(()=>{try{s(Te(a))}catch(l){console.log(l)}},[s,a]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center items-start",id:"review",children:e.jsx("p",{className:"text-3xl lg:text-4xl font-semibold leading-7 lg:leading-9 text-gray-800 dark:text-slate-200 ",children:"Reviews"})}),e.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"dark:text-slate-200",children:["Total ",x," People have reviewed this product."]}),t?e.jsx("div",{className:"mt-2 underline text-blue-600 cursor-pointer",onClick:$,children:b?"Update Review":"Add Your Review"}):e.jsx(J,{className:"mt-2 underline text-blue-600 cursor-pointer",to:"/login",children:"Login or SignUp to add Review"}),e.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:g&&e.jsxs("form",{noValidate:!0,className:"space-y-6",onSubmit:C(y),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"star",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Rating"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(We,{control:i,name:"rating",defaultValue:null,rules:{required:"Select Your Rating"},render:({field:l})=>e.jsx(ke,{value:l.value,onChange:h=>l.onChange(h)})}),e.jsx("p",{className:"text-red-500",children:(c==null?void 0:c.rating)&&((M=c==null?void 0:c.rating)==null?void 0:M.message)})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Title"})}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"title",...A("title",{required:"Title is required"}),type:"text",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),e.jsx("p",{className:"text-red-500",children:(c==null?void 0:c.title)&&((p=c==null?void 0:c.title)==null?void 0:p.message)})]}),m&&e.jsx("p",{className:"text-red-500",children:m})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Comment"})}),e.jsxs("div",{className:"mt-2",children:[e.jsx("textarea",{id:"comment",...A("comment",{required:"comment is required"}),type:"text",required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),e.jsx("p",{className:"text-red-500",children:c.comment&&((O=c.comment)==null?void 0:O.message)})]}),m&&e.jsx("p",{className:"text-red-500",children:m})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:d?"loading":b?"Update Review":"Add Review"})})]})})]}),e.jsx("div",{className:"flex flex-col gap-2 ",children:(r==null?void 0:r.length)>0&&(r==null?void 0:r.map(l=>{var h,R,G,S,I,q;return e.jsxs("div",{className:"w-full flex flex-col px-2 py-2 bg-gray-100 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"w-full flex justify-start items-center md:px-4 py-4",children:[e.jsx("div",{className:"flex flex-row justify-between items-start",children:e.jsx("p",{className:"text-xl md:text-2xl font-medium leading-normal text-gray-800 dark:text-slate-200",children:l==null?void 0:l.title})}),"  ",e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center",children:[0,1,2,3,4].map(V=>e.jsx(ue,{className:U((l==null?void 0:l.rating)>V?"text-yellow-500":"text-gray-300","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},V))}),e.jsxs("span",{children:["  ",l==null?void 0:l.rating," out of 5 stars"]})]}),e.jsx("div",{className:"flex items-center ml-auto space-x-2",children:((h=l==null?void 0:l.user)==null?void 0:h.id)===(t==null?void 0:t.id)&&e.jsxs(e.Fragment,{children:[e.jsx(ut,{className:"h-6 w-6 text-green-600 cursor-pointer hover:text-green-500","aria-hidden":"true",onClick:()=>N(l)}),e.jsx(ht,{className:"h-6 w-6 text-red-600 cursor-pointer hover:text-red-500","aria-hidden":"true",onClick:()=>F(l._id)})]})})]}),e.jsxs("div",{id:"menu2",className:"md:block",children:[e.jsx("p",{className:"mt-3 text-base leading-normal text-gray-600  w-full md:w-9/12 xl:w-5/6  dark:text-slate-200",children:l==null?void 0:l.comment}),e.jsxs("div",{className:"mt-6 flex justify-start items-center flex-row space-x-2.5",children:[e.jsx("div",{children:e.jsx("img",{className:"group flex w-12 h-12 rounded-full",src:(l==null?void 0:l.user.profileImage)||"https://img.freepik.com/free-icon/userInfo_318-159711.jpg?size=626&ext=jpg&ga=GA1.1.503580097.1688107904&semt=ais",alt:((R=l==null?void 0:l.user)==null?void 0:R.firstName)||"userName"})}),e.jsxs("div",{className:"flex flex-col justify-start items-start space-y-2",children:[e.jsxs("p",{className:"text-base font-medium leading-none text-gray-800 dark:text-slate-200",children:[((S=(G=l==null?void 0:l.user)==null?void 0:G.name)==null?void 0:S.firstName)||"user"," ",(q=(I=l==null?void 0:l.user)==null?void 0:I.name)==null?void 0:q.lastName]}),e.jsx("p",{className:"text-sm leading-none text-gray-600 dark:text-slate-400",children:new Date(l==null?void 0:l.updatedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]})]})]},l==null?void 0:l._id)}))})]})]})};export{ye as E,Rt as P,Ct as R,pt as a,ft as s,T as y};
