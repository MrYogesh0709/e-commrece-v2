import{u as Z,G as J,r as x,a as K,q as Q,d as _,e as ee,O as se,X as u,j as e,Y as T,Z as ie}from"./index-c94445e5.js";import{N as te}from"./Navbar-3620375d.js";import{u as ae}from"./index.esm-557db087.js";import{M as re}from"./Modal-a3c13a84.js";import{k as p,m as b}from"./constants-e7fb752e.js";import{F as le}from"./Footer-86d710bc.js";import"./index-8100b1b7.js";import"./logo-98457f0e.js";import"./dialog-d13693b7.js";import"./description-d3978e3b.js";function ne(){var y,N,k,v,w,q,F,P,D,C,S,I,A,z,M,B,E,H,L,O;const n=Z(),{id:d}=J(),[V,f]=x.useState(!1),{brands:c,categories:m,isLoading:$,singleProduct:i}=K(Q),j=_(),G=ee(),{register:r,handleSubmit:R,reset:g,setValue:a,formState:{errors:t}}=ae();x.useEffect(()=>{n(d?se(d):u())},[d,n]),x.useEffect(()=>{i&&d&&(a("title",i.title),a("description",i.description),a("price",i.price),a("discountPercentage",i.discountPercentage),a("stock",i.stock),a("thumbnail",i.thumbnail),a("brand",i.brand),a("category",i.category),a("rating",i.rating),a("image1",i.images[0]),a("image2",i.images[1]),a("image3",i.images[2]),a("image4",i.images[3]),a("highlight1",i.highlights[0]),a("highlight2",i.highlights[1]),a("highlight3",i.highlights[2]),a("highlight4",i.highlights[3]),a("colors",i.colors.map(s=>s.id)),a("sizes",i.sizes.map(s=>s.id)))},[n,i,a,d]);const U=s=>{try{const l={...s,stock:+s.stock,discountPercentage:+s.discountPercentage,price:+s.price,rating:0,images:[s.image1,s.image2,s.image3,s.image4,s.thumbnail],highlights:[s.highlight1,s.highlight2,s.highlight3,s.highlight4],colors:s.colors.map(o=>p.find(h=>h.id===o)),sizes:s.sizes.map(o=>b.find(h=>h.id===o))};delete l.image1,delete l.image2,delete l.image3,delete l.image4,delete l.highlight1,delete l.highlight2,delete l.highlight3,delete l.highlight4,d?(l.id=d,l.rating=i.rating||0,n(T(l))):n(ie(l)),g()}catch(l){console.log(l)}},W=()=>{f(!0)},X=()=>{const s={...i};s.deleted=!0,n(T(s)),g(),n(u()),setTimeout(()=>{j("/admin")},3e3)},Y=()=>{g(),n(u()),j("/admin")};return e.jsxs(e.Fragment,{children:[e.jsx(re,{title:`Delete ${i==null?void 0:i.title}`,message:`Are you sure you want to Delete the ${i==null?void 0:i.title} ?`,dangerOption:"Delete",cancelOption:"Cancel",showModal:V,dangerAction:X,cancelAction:()=>f(!1)}),e.jsx("div",{className:"mx-auto max-w-2xl px-4 py-0  sm:px-6 sm:py-0 lg:max-w-7xl lg:px-8",children:e.jsxs("form",{noValidate:!0,onSubmit:R(U),children:[e.jsx("div",{className:"space-y-12",children:e.jsxs("div",{className:"border-b border-gray-900/10 pb-12",children:[e.jsx("h2",{className:"text-base font-bold leading-7 text-gray-900 dark:text-slate-200",children:G.pathname.split("/").filter(Boolean).map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" / ")}),e.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(i==null?void 0:i.deleted)&&e.jsx("h2",{className:"text-red-600",children:"This Product is Deleted"}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Product Name"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 dark:bg-slate-600  focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("title",{required:"Product name is required",maxLength:{value:50,message:"Name must be less than 50 characters"}}),id:"title",autoComplete:"username",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1  text-gray-900 dark:text-slate-200 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.title&&((y=t.title)==null?void 0:y.message)})]})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Description"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("textarea",{id:"description",...r("description",{required:"Description is required",maxLength:{value:300,message:"Description must be at under 300 characters"}}),rows:3,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 dark:bg-slate-600 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),e.jsx("p",{className:"text-red-500",children:t.description&&((N=t.description)==null?void 0:N.message)})]}),e.jsx("p",{className:"mt-3 text-sm leading-6 text-gray-600 dark:text-slate-400",children:"Write a few sentences about product"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Price"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset dark:bg-slate-600 ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"number",...r("price",{required:"Product price is required",min:{value:1,message:"Price must be More than 0"},max:{value:1e5,message:"Price must be less than 100000"}}),id:"price",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 dark:text-slate-200 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.price&&((k=t.price)==null?void 0:k.message)})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"discountPercentage",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Discount Percentage"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm dark:bg-slate-600 ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"number",...r("discountPercentage",{required:"Discount-Percentage is required",min:{value:0,message:"Discount must be Positive number"},max:{value:100,message:"Discount must be less than 100"}}),id:"discountPercentage",className:"appearance-none block flex-1 border-0 bg-transparent dark:text-slate-200 py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.discountPercentage&&((v=t.discountPercentage)==null?void 0:v.message)})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Stock"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md dark:bg-slate-600 shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"number",...r("stock",{required:"Product stock is required",min:{value:0,message:"Stock be Positive number"}}),id:"stock",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 dark:text-slate-200 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.stock&&((w=t.stock)==null?void 0:w.message)})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"highlight1",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Highlight-1"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 dark:bg-slate-600 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("highlight1",{required:"highlight1 is required"}),id:"highlight1",className:"block flex-1 border-0 bg-transparent dark:text-slate-200 py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.highlight1&&((q=t.highlight1)==null?void 0:q.message)})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"highlight2",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Highlight-2"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 dark:bg-slate-600 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("highlight2",{required:"highlight2 is required"}),id:"highlight2",className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 dark:text-slate-200 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.highlight2&&((F=t.highlight2)==null?void 0:F.message)})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"highlight3",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Highlight-3"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm  dark:bg-slate-600 ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("highlight3",{required:"highlight3 is required"}),id:"highlight3",className:"block flex-1 border-0 bg-transparent dark:text-slate-200 py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.highlight3&&((P=t.highlight3)==null?void 0:P.message)})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"highlight4",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Highlight-4"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md dark:bg-slate-600  shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("highlight4",{required:"highlight4 is required"}),id:"highlight4",className:"block flex-1 border-0 bg-transparent dark:text-slate-200 py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.highlight4&&((D=t.highlight4)==null?void 0:D.message)})]})]}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"colors",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Colors"}),e.jsxs("div",{className:"mt-2",children:[((C=p)==null?void 0:C.length)>0&&p.map(s=>e.jsxs("label",{className:"inline-flex items-center mr-4 mb-2",children:[e.jsx("input",{type:"checkbox",value:s.id,...r("colors"),className:"h-4 w-4 rounded border-gray-300   text-indigo-600 focus:ring-indigo-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-slate-200",children:s.name})]},s.id)),e.jsx("p",{className:"text-red-500",children:t.colors&&((S=t.colors)==null?void 0:S.message)})]})]}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"sizes",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Sizes"}),e.jsxs("div",{className:"mt-2",children:[((I=b)==null?void 0:I.length)>0&&b.map(s=>e.jsxs("label",{className:"inline-flex items-center mr-4 mb-2",children:[e.jsx("input",{type:"checkbox",value:s.id,...r("sizes"),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-slate-200",children:s.name})]},s.id)),e.jsx("p",{className:"text-red-500",children:t.sizes&&((A=t.sizes)==null?void 0:A.message)})]})]}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"thumbnail",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Thumbnail"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset dark:bg-slate-600 ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("thumbnail",{required:"Product Thumbnail is required"}),id:"thumbnail",className:"block flex-1 border-0 dark:text-slate-200 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.thumbnail&&((z=t.thumbnail)==null?void 0:z.message)})]})]}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"image1",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Image-1"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset dark:bg-slate-600 ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("image1",{required:"Image-1 is required"}),id:"image1",className:"block flex-1 border-0 dark:text-slate-200 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.image1&&((M=t.image1)==null?void 0:M.message)})]})]}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"image2",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Image-2"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset dark:bg-slate-600 ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("image2",{required:"Image-2 is required"}),id:"image2",className:"block flex-1 border-0 dark:text-slate-200 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.image2&&((B=t.image2)==null?void 0:B.message)})]})]}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"image3",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Image-3"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset dark:bg-slate-600 ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("image3",{required:"Image-3 is required"}),id:"image3",className:"block flex-1  dark:text-slate-200 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.image3&&((E=t.image3)==null?void 0:E.message)})]})]}),e.jsxs("div",{className:"sm:col-span-full",children:[e.jsx("label",{htmlFor:"image4",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Image-4"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset dark:bg-slate-600 ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsx("input",{type:"text",...r("image4",{required:"Image-4 is required"}),id:"image4",className:"block flex-1 dark:text-slate-200 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})}),e.jsx("p",{className:"text-red-500",children:t.image4&&((H=t.image4)==null?void 0:H.message)})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Brand"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset  dark:bg-slate-600 ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsxs("select",{id:"brand",...r("brand",{required:"Brand is required"}),className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 dark:text-slate-200 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",children:[e.jsx("option",{value:"",className:"dark:bg-slate-600",children:"--Choose Brand--"}),(c==null?void 0:c.length)>0&&c.map((s,l)=>e.jsx("option",{value:s.value,className:"dark:bg-slate-600",children:s.label},l))]})}),e.jsx("p",{className:"text-red-500",children:t.brand&&((L=t.brand)==null?void 0:L.message)})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-slate-200",children:"Category"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300  dark:bg-slate-600 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:e.jsxs("select",{id:"category",...r("category",{required:"Category is required"}),className:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 dark:text-slate-200 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",children:[e.jsx("option",{value:"",className:"dark:bg-slate-600",children:"--Choose Category--"}),(m==null?void 0:m.length)>0&&m.map((s,l)=>e.jsx("option",{value:s.value,className:"dark:bg-slate-600",children:s.label},l))]})}),e.jsx("p",{className:"text-red-500",children:t.category&&((O=t.category)==null?void 0:O.message)})]})]})]})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[e.jsx("button",{type:"button",className:"text-sm font-semibold leading-6 text-gray-900 dark:text-slate-200",onClick:Y,children:"Cancel"}),i&&!(i!=null&&i.deleted)&&e.jsx("button",{type:"button",onClick:W,className:"rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Delete"}),e.jsx("button",{type:"submit",disabled:$,className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Save"})]})]})})]})}const fe=()=>e.jsxs(e.Fragment,{children:[e.jsx(te,{children:e.jsx(ne,{})}),e.jsx(le,{})]});export{fe as default};
